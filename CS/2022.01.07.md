# javascript

### 기본 개념과 동작 원리 이해의 중요성

##### 프로그래밍이란?

프로그래밍이란 컴퓨터에게 실행을 요구하는 일종의 ``` 커뮤니케이션```이다. 이를 위해 먼저 무엇을 실행하기 원하는지 요구사항을 명확히 이해한 후 문제를 해결해야 한다.

대부분의 요구사항은 복잡하며 명확하지 않을 수도 있다. 따라서 복잡함을 단순하게 분해하고 자료를 정리하고 구분해야 하며 순서에 맞게 행위를 배열해야 한다.

이때 필요한 것이 ```Computational thinking``` 이다.

사람은 듣다(Listen) 라는 행위를 하나의 간단하고 당연한 기능이라고 생각하지만 컴퓨터에게 이를 설명하는 것은 단순하지 않다. 사람은 소리를 크다, 작다 라고 표현하지만 컴퓨터는 현재보다 1단계 크게 조정하라, 볼륨을 60으로 조정하라고 명령해야 한다.

이처럼 컴퓨터와 사람의 사고, 인지 방식이 다르기 때문에 컴퓨터의 관점으로 사고 해야한다.

작성된 코드는 해결방안의 구체적 구현물이다. 이것은 수행하고자 하는 바를 정확히 수행하는 것, 즉 **요구사항이 실현(문제가 해결) 되어야 의미가 있다.**


*마음가짐*

1. 서둘지 마라. 이제 출발선에 선 것이다. 성과를 내기엔 이르다.

2. 두려워하지 말고 시도하여 실패하자. 실패는 영원하지 않다.

3. 사람은 잘 착각하고 또 잘 잊는다. 기록하고 수정하자.

4. 기본기가 중요하다. 나는 프로이다.

5. 일을 좋아하자 좋아하면 괴롭지 않다. 즐겁게 일하는 자를 이길 자 없다.

6. 호기심을 갖자. 이유를 알고 싶지 않은가? 설명할 수 없으면 모르는 것이다.

7. 꾸준히 하자 평생.


***

### 자바스크립트란?

##### 자바스크립트의 탄생

1995년 ```넷스케이프 커뮤니케이션즈``` 는 정적인 HTML을 동적으로 표현하기 위해 경량의 프로그래밍 언어를 도입하기로 결정했다. 그래서 탄생한 것이 ```브렌던 아이크``` 가 개발한 자바스크립트이다.

1996년 ```넷스케이프 커뮤니케이션즈``` 의 웹 브라우저에 탑재 되었고 ```Mocha```로 명명되었다. 그 해 9월 ```LiveScript``` 로 이름이 변경되었고, 12월 ```javascript``` 로 최종 명명되었다.

이렇게 자바스크립트가 탄생한지 얼마 되지 않아 자바스크립트의 파생 버전인 ```JScript``` 가 출시되어 자바스크립트는 위기를 맞게 된다.

##### 자바스크립트의 파편화와 표준화

1996년 8월 ```마이크로소프트``` 는 자바스크립트의 파생버전인 ```JScript``` 를 IE 3.0에 탑재했다. 그런데 문제는 JScript 와 자바스크립트가 표준화 되지 못하고 적당히 호환되었다는 점이다. 이로 인해 브라우저에 따라 웹 페이지가 정상 동작하지 않는 ```크로스 브라우징 이슈``` 가 발생하기 시작했고 모든 브라우저에서 동작하는 웹 페이지를 개발하는 것은 무척 어려워졌다.

1996년 11월 ```넷스케이프 커뮤니케이션즈``` 는  ```ECMA 인터내셔널``` 에 자바스크립트 표준화를 요청하였다.

1997년 ```ECMAScript 1``` 표준화된 자바스크립트 초판이 완성되었다.

1999년 ```ECMAScript 3``` 가 공개되었고

2009년 ```ECMAScript 5``` 는 HTML5와 함께 출현한 표준안이다.

2015년 ```ECMAScript 6``` 가 공개되었고 let, const, 화살표함수, 클래스, 모듈 등과 같은 기능들을 대규모 도입하는 큰 변화가 있었다.

2016년 ```ECMAScript 7```

2017년 ```ECMAScript 8```

2018년 ```ECMAScript 9```

##### 자바스크립트 성장 역사

초창기 자바스크립트는 웹 페이지의 보조적인 기능을 수행하기 위해 한정적인 용도로 사용되었다. 이 시기에 대부분 로직은 주로 웹 서버에서 실행되었고 브라우저는 서버로부터 전달받은 HTML 과 CSS를 단순히 렌더링 하는 수준이였다.

1999년, 자바스크립트를 활용해서 비동기적 (Asynchronous) 으로 서버와 브라우저가 데이터를 교환 할 수 있는 통신 기능인 ```Ajax``` 가 XMLHttpRequest  이라는 이름으로 등장했다.

Ajax의 등장으로 웹 페이지의 변경이 필요없는 부분은 다시 렌더링하지 않고, 서버로부터 필요한 데이터만을 전송받아 변경이 필요한 부분만을 한정적으로 렌더링 하는 방식이 가능해졌다.

2006년, ```jQuery``` 의 등장으로 다소 번거롭고 논란이 있었던 DOM을 보다 쉽게 제어할 수 있게 되었고 크로스 브라우징 이슈도 어느 정도 해결되었다.

2008년 등장한 ```V8 자바스크립트 엔진``` 은 웹 애플리케이션을 구축 하려는 이러한 시대적인 요구에 부합하는 빠른 성능을 보여주었다. V8 자바스크립트 엔진의 등장으로 자바스크립트는 웹 애플리케이션 개발 프로그래밍 언어로 정착하게 되었다. V8 자바스크립트 엔진으로 촉발된 자바스크립트의 발전으로 과거 웹 서버에서 수행되던 역할들이 클라이언트 (브라우저) 로 이동하였고, 이로써 프론트엔드 영역이 주목받는 계기가 되었다.

2009년, 브라우저에서만 동작하던 자바스크립트를 브라우저 이외의 환경에서 동작시킬 수 있는 자바스크립트 실행 환경인 ```Node.js``` 의 등장으로 자바스크립트는 웹 브라우저를 벗어나 서버 사이드 개발에서도 사용되는 범용 프로그래밍 언어가 되었다. 웹 브라우저에서만 동작하는 반쪽짜리 프로그래밍 언어 취급을 받던 자바스크립트는 이제 프론트엔드 영역은 물론 백엔드 영역까지 아우르는 웹 프로그래밍 언어의 표준으로 자리 잡고 있다.


##### 자바스크립트 특징

1. 웹 브라우저에서 동작하는 유일한 프로그래밍 언어이다.

2. 개발자가 별도의 컴파일 작업을 수행하지 않는 ```인터프리터 언어``` 이다.

3. 프로토타입 기반의 객체지향 언어이다.

##### ES6 브라우저 지원 현황

IE를 제외한 거의 모든 브라우저에서 ES6를 지원하지만 구형 브라우저를 고려해야 하는 상황이라면 ```babel``` 과 같은 ```트랜스파일러``` 를 사용하여 ES6로 구현한 소스코드를 ES5 이하의 버전으로 다운그레이트 할 필요가 있다. 또한 ES6 에서 도입된 모듈 import/ export는 아직 대부분의 브라우저가 지원하고 있지 않다. 따라서 프로젝트에서 모듈을 도입하려면 ```Webpack``` 과 같은 모듈 번들러를 사용해야 한다.

***

### 자바스크립트 개발 환경과 실행 방법

모든 브라우저는 자바스크립트를 해석하고 실행할 수 있는 자바스크립트 엔진을 내장하고 있다. 브라우저 뿐만 아니라 Node.js도 자바스크립트 엔진을 내장하고 있다.

그런데 브라우저와 Node.js는 존재 목적이 다르다. *브라우저는 HTML, CSS, 자바스크립트를 실행하여 웹 페이지를 화면에 렌더링 하는 것이 주 목적* 이지만, *Node.js는 서버 개발 환경을 제공하는 것이 주된 목적이다.*

따라서 브라우저와 Node.js는 모두 자바스크립트의 코어인 ECMAScript를 실행할 수 있지만, 추가적으로 제공하는 기능은 호환되지 않는다.

이처럼 브라우저는 ECMAScript와 DOM, BOM, Canvas, XMLHttpRequest, Fetch, SVG ... 와 같은 ``` 클라이언트 사이드 Web API``` 를 지원한다. Node.js는 클라이언트 사이드 Web API는 지원하지 않고 ECMAScript와 Node.js 고유의 API 를 지원한다.


***

### 브라우저 동작 원리

- HTML, CSS는 렌더링 엔진이 처리 (HTML 파서, CSS 파서)

- javascript는 자바스크립트 엔진이 처리  

V8 자바스크립트 엔진으로 빌드된 자바스크립트 런타임환경인 Node.js의 등장으로 자바스크립트는 웹 브라우저를 벗어나 서버 사이드 애플리케이션 개발에서도 사용되는 범용 개발 언어가 되었다.

브라우저의 핵심 기능은 사용자가 보고싶어하는 웹 페이지를 서버에 요청 (Request) 하고 서버의 응답 (Response)을 받아 브라우저에 표시하는 것이다. 브라우저는 서버로부터 HTML, CSS, javascript, 이미지 파일 등을 응답받는다.

HTML, CSS 파일은 렌더링 엔진의 HTML 파서와 CSS 파서에 의해 파싱되어 DOM, CSSOM 트리로 변환되고 렌더 트리로 결합된다. 이렇게 생성된 렌더 트리를 기반으로 브라우저는 웹 페이지를 표시한다.


<img width="800" alt="브라우저 동작 원리" src="https://user-images.githubusercontent.com/87749134/148665950-fc95f90e-d777-4f1b-b7db-807cc5d2db36.png">


🌟 HTML 파서는 script 태그를 만나면 자바스크립트 코드를 실행하기 위해 DOM 생성 프로세스를 중지하고 자바스크립트 엔진으로 제어 권한을 넘긴다. 자바스크립트 엔진은 자바스크립트 코드 or script 태그의 src 어트리뷰트에 정의된 자바스크립트 파일을 로드하고 파싱하여 실행한다. 자바스크립트 실행이 완료되면 다시 HTML 파서로 제어 권한을 넘겨서 브라우저가 중지했던 시점부터 DOM 생성을 재개한다.

이처럼 브라우저는 ```동기적 (Synchronous)``` 으로 HTML, CSS, Javascript를 처리한다. *이것은 script 태그의 위치에 따라 블로킹이 발생하여 DOM 생성이 지연될 수 있다는 것을 의미* 한다. 따라서 script 태그의 위치는 중요한 의미를 갖는다. body 요소의 가장 아래에 자바스크립트를 위치시키는 것은 좋은 아이디어이다. 그 이유는

1. HTML 요소들이 스크립트 로딩 지연으로 인해 렌더링에 지장 받는 일이 발생하지 않아 페이지 로딩 시간이 단축된다.

2. DOM이 완성되지 않은 상태에서 자바스크립트가 DOM을 조작한다면 에러가 발생한다.

***  

### 자바스크립트의 기본 문법

- 변수 : 값을 저장하고 그 값을 참조하기 위해 사

- 리터럴(값) : 상수 값 자체를 의미 (true, false, 10.50, "Hello", [1,2,3], {name: "Lee"} ...)  

##### 자바스크립트는 7가지의 데이터 타입을 제공

- 원시 타입 (변경 불가능)  

  1. number

  2. string

  3. boolean

  4. null (let foo = null)

  5. undefined (let foo;)

  6. symbol

- 객체 타입

  1. object (함수, 배열, 정규표현식 등...)

> ❗️ 자바스크립트는 객체 기반의 스크립트 언어이며, 원시타입을 제외한 거의 "모든 것" 이 객체이다.

> 객체는 Key, value 로 구성된 property 의 집합이다. 프로퍼티의 값으로 함수를 사용할 수도 있으며 프로퍼티의 값이 함수일 경우, 일반 함수와 구분하기 위해 ```메소드``` 라 부른다.


```javascript
var person = {
  name: 'Lee',
  gender: 'male',
  sayHello: function () {
    console.log('Hi! My name is ' + this.name);
  }
};
```

객체는 데이터(프로퍼티)와 그 데이터에 관련되는 동작(메소드)을 모두 포함할 수 있기 때문에 데이터와 동작을 하나의 단위로 구조화할 수 있어 유용하다.

***  

### 데이터 타입과 변수

#### 원시 타입

  원시 타입의 값은 ```변경 불가능한 값``` 이며 ```값에 의한 전달 ``` 이다.

  1. number

  > ECMAScript 표준에 따르면, 숫자 타입의 값은 64비트 부동소수점 형: -(253 -1) 와 253 -1 사이의 숫자값) 을 따른다.

  자바스크립트의 숫자타입은 정수만을 위한 타입이 없고 모든 수를 실수 처리한다. 정수로 표시된다 해도 사실은 실수다. 따라서 정수로 표시되는 수 끼리 나누어도 실수가 나올 수 있다.

  ```javascript
  console.log(1 === 1.0); // true

  var result = 4 / 2;
  console.log(result); // 2
  result = 3 /2;
  console.log(result); // 1.5
  ```

  2. string

    자바스크립트의 문자열은 원시타입이며 ```변경 불가능``` 하다.
    이것은 한번 문자열이 생성되면, 그 문자열을 변경 할수 없다는 것을 의미한다.

    ```javascript
    var str = 'Hello';
    str = 'world';
    ```
    > 첫번째 구문이 실행되면 메모리에 문자열 ‘Hello’가 생성되고 식별자 str은 메모리에 생성된 문자열 ‘Hello’의 메모리 주소를 가리킨다.
    그리고 두번째 구문이 실행되면 이전에 생성된 문자열 ‘Hello’을 수정하는 것이 아니라 새로운 문자열 ‘world’를 메모리에 생성하고 식별자 str은 이것을 가리킨다.
    이때 문자열 ‘Hello’와 ‘world’는 모두 메모리에 존재하고 있다. 변수 str은 문자열 ‘Hello’를 가리키고 있다가 문자열 ‘world’를 가리키도록 변경되었을 뿐이다.

    ```javascript
    var str = 'string';
    // 문자열은 유사배열이다.
    for (var i = 0; i < str.length; i++) {
      console.log(str[i]);
    }

    // 문자열을 변경할 수 없다.
    str[0] = 'S';
    console.log(str); // string
    ```

    > 문자열은 배열처럼 인덱스를 통해 접근할 수 있다. 이와 같은 특성을 갖는 데이터를 유사 배열이라 한다.str[0] = 'S'처럼 이미 생성된 문자열의 일부 문자를 변경해도 반영되지 않는다(이때 에러가 발생하지 않는다). 한번 생성된 문자열은 read only로서 변경할 수 없다.
    이것을 변경 불가능(immutable)이라 한다.그러나 새로운 문자열을 재할당하는 것은 물론 가능하다. 이는 기존 문자열을 변경하는 것이 아니라 새로운 문자열을 새롭게 할당하는 것이기 때문이다.

  3. boolean

    🌟 비어있는 문자열과 null, undefined, 숫자 0은 false로 간주된다.


  4. undefined

    선언 이후 값을 할당하지 않은 변수는 undefined 값을 가진다.
    그럼 변수의 값이 없다는 것을 명시하고 싶은 경우 어떻게 하면 좋을까? 그런 경우는 undefined를 할당하는 것이 아니라 null을 할당한다.


  5. null

    프로그래밍 언어에서 null은 의도적으로 변수에 값이 없다는 것을 명시할 때 사용한다.

    ```javascript
    var foo = 'Lee';
    foo = null;  // 참조 정보가 제거됨
    ```

    "Lee" 라는 게 메모리에 할당되고 foo 라는 식별자가 "Lee" 의 메모리 주소를 참조하지만 null은  ```의도적으로``` 그런 참조 정보를 제거한다.


  6. symbol

    >심볼(symbol)은 ES6에서 새롭게 추가된 7번째 타입으로 변경 불가능한 원시 타입의 값이다. 심볼은 주로 이름의 충돌 위험이 없는 유일한 객체의 프로퍼티 키(property key)를 만들기 위해 사용한다.
    심볼은 Symbol 함수를 호출해 생성한다. 이때 생성된 심볼 값은 다른 심볼 값들과 다른 유일한 심볼 값이다.

    ```javascript
    // 심볼 key는 이름의 충돌 위험이 없는 유일한 객체의 프로퍼티 키
    var key = Symbol('key');
    console.log(typeof key); // symbol

    var obj = {};
    obj[key] = 'value';
    console.log(obj[key]); // value
    ```

#### 객체 타입

  객체는 데이터와 그 데이터에 관련한 동작(절차, 방법, 기능)을 모두 포함할 수 있는 개념적 존재이다. 달리 말해, 이름과 값을 가지는 데이터를 의미하는 프로퍼티(property)와 동작을 의미하는 메소드(method)를 포함할 수 있는 독립적 주체이다. 또한 객체는 ```참조에 의한 전달``` 방식으로 전달된다.



### 변수

변수명은 식별자(identifier)로 불리기도 하며 명명 규칙이 존재한다.

반드시 영문자(특수문자 제외), underscore ( _ ), 또는 달러 기호($)로 시작하여야 한다. 이어지는 문자에는 숫자(0~9)도 사용할 수 있다.
자바스크립트는 대/소문자를 구별하므로 사용할 수 있는 문자는 “A” ~ “Z” (대문자)와 “a” ~ “z” (소문자)이다.

값을 할당하지 않은 변수 즉 선언만 되어 있는 변수는 undefined로 초기값을 갖는다. 선언하지 않은 변수에 접근하면 ReferenceError가 발생한다.

```javascript
var x;
console.log(x); // undefined
console.log(y); // ReferenceError
```

#### 변수 호이스팅

   자바스크립트의 특징으로 모든 선언문은  ```호이스팅(Hoisting)``` 된다.

   ```javascript
   console.log(foo); // ① undefined
   let foo = 123
   console.log(foo); // ② 123
   {
     foo = 456;
   }
   console.log(foo); // ③ 456
   ```

   첫번째 콘솔은 ReferenceError 를 기대했지만 undefined 가 나온다. 이후 변수 할당문에 도달하면 비로소 값의 할당이 이루어진다.
